import React, { useState, useEffect, useRef } from "react";
import { gsap, Power3, Power1, Circ } from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";

import { NavLink, useLocation } from "react-router-dom";

// import { motion } from "framer-motion";

// images
import navLogo from "../../../assets/images/HighriseLogoCropped.png";
import arrow from "../../../assets/images/arrow-right.svg";

import "./navbar.css";

const Navbar = (props) => {
  const [isNavOpen, setNavOpen] = useState(false);
  const [pathname, setPathname] = useState(`${useLocation().pathname}`);

  return (
    <>
      <div className="master-nav">
        <header className="nav-wrapper" ref={props.propref} data-scroll-section>
          <div className="brand-logo" data-scroll>
            <a href="/">
              <img
                src={navLogo}
                className={
                  "highrise-logo" + (isNavOpen ? " nav-open" : " nav-closed")
                }
                id="nav-logo"
                alt="highrise Logo"
                // ref={targetRef}
                style={{ width: "100px" }}
              />
            </a>
          </div>

          <nav
            className={"navbar1" + (isNavOpen ? " nav-open" : " nav-closed")}
          >
            {props.links.map((link, index) => (
              <li key={index}>
                <NavLink
                  style={({ isActive }) => {
                    return isActive ? { color: "hsl(53, 100%, 54%)" } : {};
                  }}
                  to={"/" + link}
                  className="relative"
                  data-glitch={link.toUpperCase().replace("-", " ")}
                >
                  {link.toUpperCase().replace("-", " ")}
                </NavLink>
              </li>
            ))}
          </nav>

          <div className="right-nav">
            <a
              href="https://fixr.co/event/highrise-festival-2023-tickets-811270693"
              id="ticket-link"
              target="_blank"
              rel="noopener noreferrer"
            >
              <span data-glitch={"Get Tickets"}>Get Tickets</span>
            </a>

            <div className="hamburger-wrapper">
              <input
                aria-controls="navbar"
                aria-expanded="false"
                type="checkbox"
                defaultChecked={isNavOpen}
                className="nav-toggle"
                onClick={() => setNavOpen(!isNavOpen)}
              />

              <div className="hamburger">
                <div></div>
              </div>
            </div>
          </div>
        </header>
        {location.pathname !== "/" && (
          <svg id="visual" viewBox="0 0 2400 112.09">
            <defs>
              <linearGradient id="grad1" x1="7%" y1="0%" x3="100%" y3="0%">
                <stop
                  offset="7%"
                  style={{ stopColor: "rgb(235,115,120)", stopOpacity: "1" }}
                />

                <stop
                  offset="100%"
                  style={{
                    stopColor: "rgb(235, 114, 121)",
                    stopOpacity: "1",
                  }}
                />
              </linearGradient>
            </defs>
            <path
              d="M0 3L12.8 18.2C25.7 33.3 51.3 63.7 77.2 67.3C103 71 129 48 154.8 34.3C180.7 20.7 206.3 16.3 232.2 31.5C258 46.7 284 81.3 309.8 98.2C335.7 115 361.3 114 387.2 108.5C413 103 439 93 464.8 88C490.7 83 516.3 83 542 88.2C567.7 93.3 593.3 103.7 619.2 90C645 76.3 671 38.7 696.8 25.8C722.7 13 748.3 25 774.2 38.3C800 51.7 826 66.3 851.8 60.7C877.7 55 903.3 29 929 33C954.7 37 980.3 71 1006.2 80C1032 89 1058 73 1083.8 57.2C1109.7 41.3 1135.3 25.7 1161.2 28.5C1187 31.3 1213 52.7 1238.8 54.7C1264.7 56.7 1290.3 39.3 1316.2 31.3C1342 23.3 1368 24.7 1393.8 35C1419.7 45.3 1445.3 64.7 1471 64C1496.7 63.3 1522.3 42.7 1548.2 42.3C1574 42 1600 62 1625.8 72.5C1651.7 83 1677.3 84 1703.2 88.8C1729 93.7 1755 102.3 1780.8 89C1806.7 75.7 1832.3 40.3 1858 27.8C1883.7 15.3 1909.3 25.7 1935.2 39.5C1961 53.3 1987 70.7 2012.8 84C2038.7 97.3 2064.3 106.7 2090.2 101.2C2116 95.7 2142 75.3 2167.8 70C2193.7 64.7 2219.3 74.3 2245.2 73.3C2271 72.3 2297 60.7 2322.8 49.8C2348.7 39 2374.3 29 2387.2 24L2400 19L2400 0L2387.2 0C2374.3 0 2348.7 0 2322.8 0C2297 0 2271 0 2245.2 0C2219.3 0 2193.7 0 2167.8 0C2142 0 2116 0 2090.2 0C2064.3 0 2038.7 0 2012.8 0C1987 0 1961 0 1935.2 0C1909.3 0 1883.7 0 1858 0C1832.3 0 1806.7 0 1780.8 0C1755 0 1729 0 1703.2 0C1677.3 0 1651.7 0 1625.8 0C1600 0 1574 0 1548.2 0C1522.3 0 1496.7 0 1471 0C1445.3 0 1419.7 0 1393.8 0C1368 0 1342 0 1316.2 0C1290.3 0 1264.7 0 1238.8 0C1213 0 1187 0 1161.2 0C1135.3 0 1109.7 0 1083.8 0C1058 0 1032 0 1006.2 0C980.3 0 954.7 0 929 0C903.3 0 877.7 0 851.8 0C826 0 800 0 774.2 0C748.3 0 722.7 0 696.8 0C671 0 645 0 619.2 0C593.3 0 567.7 0 542 0C516.3 0 490.7 0 464.8 0C439 0 413 0 387.2 0C361.3 0 335.7 0 309.8 0C284 0 258 0 232.2 0C206.3 0 180.7 0 154.8 0C129 0 103 0 77.2 0C51.3 0 25.7 0 12.8 0L0 0Z"
              fill="url(#grad1)"
              strokeLinecap="round"
              strokeLinejoin="miter"
            ></path>
          </svg>
          // <svg id="visual" viewBox="0 0 2400 60" width="2400" height="60">
          //   <defs>
          //     <linearGradient id="grad1" x1="7%" y1="0%" x3="100%" y3="0%">
          //       <stop
          //         offset="7%"
          //         style={{ stopColor: "rgb(235,115,120)", stopOpacity: "1" }}
          //       />

          //       <stop
          //         offset="100%"
          //         style={{
          //           stopColor: "rgb(235, 114, 121)",
          //           stopOpacity: "1",
          //         }}
          //       />
          //     </linearGradient>
          //   </defs>
          //   <path
          //     d="M0 40L12.8 43.2C25.7 46.3 51.3 52.7 77.2 48.3C103 44 129 29 154.8 25.8C180.7 22.7 206.3 31.3 232.2 38.3C258 45.3 284 50.7 309.8 46.8C335.7 43 361.3 30 387.2 24.7C413 19.3 439 21.7 464.8 28C490.7 34.3 516.3 44.7 542 41.2C567.7 37.7 593.3 20.3 619.2 16C645 11.7 671 20.3 696.8 26C722.7 31.7 748.3 34.3 774.2 30.5C800 26.7 826 16.3 851.8 15.3C877.7 14.3 903.3 22.7 929 23.3C954.7 24 980.3 17 1006.2 19C1032 21 1058 32 1083.8 40C1109.7 48 1135.3 53 1161.2 48.7C1187 44.3 1213 30.7 1238.8 24.7C1264.7 18.7 1290.3 20.3 1316.2 25.5C1342 30.7 1368 39.3 1393.8 35.7C1419.7 32 1445.3 16 1471 11.5C1496.7 7 1522.3 14 1548.2 21.8C1574 29.7 1600 38.3 1625.8 39.5C1651.7 40.7 1677.3 34.3 1703.2 27.5C1729 20.7 1755 13.3 1780.8 12.8C1806.7 12.3 1832.3 18.7 1858 26.5C1883.7 34.3 1909.3 43.7 1935.2 42.5C1961 41.3 1987 29.7 2012.8 21C2038.7 12.3 2064.3 6.7 2090.2 4.7C2116 2.7 2142 4.3 2167.8 5C2193.7 5.7 2219.3 5.3 2245.2 14C2271 22.7 2297 40.3 2322.8 43.8C2348.7 47.3 2374.3 36.7 2387.2 31.3L2400 26L2400 0L2387.2 0C2374.3 0 2348.7 0 2322.8 0C2297 0 2271 0 2245.2 0C2219.3 0 2193.7 0 2167.8 0C2142 0 2116 0 2090.2 0C2064.3 0 2038.7 0 2012.8 0C1987 0 1961 0 1935.2 0C1909.3 0 1883.7 0 1858 0C1832.3 0 1806.7 0 1780.8 0C1755 0 1729 0 1703.2 0C1677.3 0 1651.7 0 1625.8 0C1600 0 1574 0 1548.2 0C1522.3 0 1496.7 0 1471 0C1445.3 0 1419.7 0 1393.8 0C1368 0 1342 0 1316.2 0C1290.3 0 1264.7 0 1238.8 0C1213 0 1187 0 1161.2 0C1135.3 0 1109.7 0 1083.8 0C1058 0 1032 0 1006.2 0C980.3 0 954.7 0 929 0C903.3 0 877.7 0 851.8 0C826 0 800 0 774.2 0C748.3 0 722.7 0 696.8 0C671 0 645 0 619.2 0C593.3 0 567.7 0 542 0C516.3 0 490.7 0 464.8 0C439 0 413 0 387.2 0C361.3 0 335.7 0 309.8 0C284 0 258 0 232.2 0C206.3 0 180.7 0 154.8 0C129 0 103 0 77.2 0C51.3 0 25.7 0 12.8 0L0 0Z"
          //     fill="url(#grad1)"
          //     stroke-linecap="round"
          //     stroke-linejoin="miter"
          //   ></path>
          // </svg>
          // <svg
          //   style={{ position: "sticky", top: "0", left: "0" }}
          //   id="visual"
          //   viewBox="0 0 2400 120"
          //   width="2400"
          //   height="120"
          // >
          //   <defs>
          //     <linearGradient id="grad1" x1="7%" y1="0%" x3="100%" y3="0%">
          //       <stop
          //         offset="7%"
          //         style={{ stopColor: "rgb(235,115,120)", stopOpacity: "1" }}
          //       />

          //       <stop
          //         offset="100%"
          //         style={{
          //           stopColor: "rgb(235, 114, 121)",
          //           stopOpacity: "1",
          //         }}
          //       />
          //     </linearGradient>
          //   </defs>

          //   <path
          //     d="M0 108L12.8 101.2C25.7 94.3 51.3 80.7 77.2 78.3C103 76 129 85 154.8 83.5C180.7 82 206.3 70 232.2 64.8C258 59.7 284 61.3 309.8 51.8C335.7 42.3 361.3 21.7 387.2 30.7C413 39.7 439 78.3 464.8 82C490.7 85.7 516.3 54.3 542 50C567.7 45.7 593.3 68.3 619.2 75C645 81.7 671 72.3 696.8 58.5C722.7 44.7 748.3 26.3 774.2 19.5C800 12.7 826 17.3 851.8 28.3C877.7 39.3 903.3 56.7 929 55.3C954.7 54 980.3 34 1006.2 38C1032 42 1058 70 1083.8 87.2C1109.7 104.3 1135.3 110.7 1161.2 110.5C1187 110.3 1213 103.7 1238.8 92.7C1264.7 81.7 1290.3 66.3 1316.2 63.7C1342 61 1368 71 1393.8 80.5C1419.7 90 1445.3 99 1471 100.7C1496.7 102.3 1522.3 96.7 1548.2 83.3C1574 70 1600 49 1625.8 49.2C1651.7 49.3 1677.3 70.7 1703.2 70.2C1729 69.7 1755 47.3 1780.8 45C1806.7 42.7 1832.3 60.3 1858 69.2C1883.7 78 1909.3 78 1935.2 72C1961 66 1987 54 2012.8 57.7C2038.7 61.3 2064.3 80.7 2090.2 91C2116 101.3 2142 102.7 2167.8 93.7C2193.7 84.7 2219.3 65.3 2245.2 66.3C2271 67.3 2297 88.7 2322.8 99.8C2348.7 111 2374.3 112 2387.2 112.5L2400 113L2400 0L2387.2 0C2374.3 0 2348.7 0 2322.8 0C2297 0 2271 0 2245.2 0C2219.3 0 2193.7 0 2167.8 0C2142 0 2116 0 2090.2 0C2064.3 0 2038.7 0 2012.8 0C1987 0 1961 0 1935.2 0C1909.3 0 1883.7 0 1858 0C1832.3 0 1806.7 0 1780.8 0C1755 0 1729 0 1703.2 0C1677.3 0 1651.7 0 1625.8 0C1600 0 1574 0 1548.2 0C1522.3 0 1496.7 0 1471 0C1445.3 0 1419.7 0 1393.8 0C1368 0 1342 0 1316.2 0C1290.3 0 1264.7 0 1238.8 0C1213 0 1187 0 1161.2 0C1135.3 0 1109.7 0 1083.8 0C1058 0 1032 0 1006.2 0C980.3 0 954.7 0 929 0C903.3 0 877.7 0 851.8 0C826 0 800 0 774.2 0C748.3 0 722.7 0 696.8 0C671 0 645 0 619.2 0C593.3 0 567.7 0 542 0C516.3 0 490.7 0 464.8 0C439 0 413 0 387.2 0C361.3 0 335.7 0 309.8 0C284 0 258 0 232.2 0C206.3 0 180.7 0 154.8 0C129 0 103 0 77.2 0C51.3 0 25.7 0 12.8 0L0 0Z"
          //     fill="url(#grad1)"
          //     // fill="black"
          //     strokeLinecap="round"
          //     strokeLinejoin="miter"
          //   ></path>
          // </svg>
        )}
      </div>
    </>
  );
};

export default Navbar;
